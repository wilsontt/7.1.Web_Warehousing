# 代碼維護測試指南

**版本**: 1.0  
**建立日期**: 2025/11/15  
**最後更新**: 2025/11/15

## 1. 測試環境準備

### 1.1 啟動開發伺服器

```bash
npm run dev
```

### 1.2 登入系統

使用測試帳號登入：
- **帳號**: `admin`
- **密碼**: `admin123`

## 2. 測試資料

### 2.1 Mock 資料

系統使用 Mock API 提供測試資料，包含：
- 大分類：A01, B01, C01 等
- 中分類：各對應的中分類資料
- 細分類：各對應的細分類資料

## 3. 測試步驟

### 3.1 基本功能測試

#### T1: 連動篩選測試

1. 進入代碼維護頁面
2. 點選左側大分類列表中的「A01」
3. **預期結果**：中間列表只顯示屬於 A01 的中分類
4. 點選中間中分類列表中的任一項
5. **預期結果**：右側列表只顯示屬於該中分類的細分類

#### T2: 新增功能測試

1. 點選「新增大分類」按鈕
2. **預期結果**：左側列表出現空白列，背景為黃色
3. 點選「大分類編碼」儲存格，輸入「Z99」
4. 點選「大分類名稱」儲存格，輸入「測試大分類」
5. **預期結果**：資料已輸入，列仍為黃色背景（未儲存狀態）
6. 點選「儲存」按鈕
7. **預期結果**：資料已儲存，列背景恢復正常

#### T3: 修改功能測試

1. 點選已存在的大分類列
2. 點選「大分類名稱」儲存格進入編輯模式
3. 修改名稱後按 Enter
4. **預期結果**：列背景變為黃色（未儲存狀態）
5. 點選「儲存」按鈕
6. **預期結果**：修改已儲存

#### T4: 刪除功能測試

1. 選取要刪除的列
2. 點選「刪除」按鈕
3. **預期結果**：顯示確認對話框
4. 確認刪除
5. **預期結果**：列顯示刪除線
6. 點選「儲存」按鈕
7. **預期結果**：資料已刪除

#### T5: 欄位驗證測試

1. 新增大分類，不輸入「大分類編碼」
2. 點選「儲存」按鈕
3. **預期結果**：顯示驗證錯誤「大分類編碼為必填欄位」

4. 輸入「大分類編碼」為「AB」（2 字元）
5. 點選「儲存」按鈕
6. **預期結果**：顯示驗證錯誤「大分類編碼必須為 3 字元」

7. 輸入「大分類編碼」為「A@1」（包含特殊字元）
8. 點選「儲存」按鈕
9. **預期結果**：顯示驗證錯誤「大分類編碼只能包含英數字」

#### T6: 未儲存變更提示測試

1. 新增或修改資料（不儲存）
2. 嘗試切換大分類
3. **預期結果**：顯示確認對話框「您有未儲存的變更，是否要放棄？」

4. 嘗試關閉瀏覽器頁籤
5. **預期結果**：顯示瀏覽器預設確認對話框

#### T7: 查詢功能測試

1. 點選「查詢」按鈕
2. 在查詢對話框中輸入關鍵字「A01」
3. 點選「查詢」按鈕
4. **預期結果**：顯示包含「A01」的查詢結果
5. 點選查詢結果
6. **預期結果**：跳轉至該列並選取

#### T8: 列印功能測試

1. 選取大分類「A01」
2. 點選「列印」按鈕
3. **預期結果**：開啟列印預覽視窗，顯示三欄層級表格
4. 檢查列印內容是否包含：
   - 列印日期
   - 操作者
   - 目前篩選條件
   - 完整的階層表格

### 3.2 整合測試

#### T9: 批次儲存測試

1. 同時進行新增、修改、刪除操作
2. 點選「儲存」按鈕
3. **預期結果**：所有變更在單一交易中處理完成

#### T10: 錯誤處理測試

1. 嘗試刪除仍有子分類的大分類
2. **預期結果**：後端回傳錯誤，前端顯示錯誤訊息

### 3.3 E2E 測試

#### T11: 完整流程測試

1. 登入系統
2. 進入代碼維護頁面
3. 新增大分類「TEST」
4. 選取「TEST」，新增中分類「T01」
5. 選取「T01」，新增細分類「T001」
6. 修改細分類說明
7. 刪除細分類「T001」
8. 點選「儲存」按鈕
9. **預期結果**：所有操作成功完成

## 4. 測試檢查清單

- [ ] 連動篩選功能正常
- [ ] 新增功能正常（大/中/細分類）
- [ ] 修改功能正常
- [ ] 刪除功能正常（含二次確認）
- [ ] 儲存功能正常（批次處理）
- [ ] 取消功能正常（含二次確認）
- [ ] 欄位驗證正常（必填、長度、格式、唯一性）
- [ ] 未儲存變更提示正常（切換分類、關閉頁面）
- [ ] 查詢功能正常
- [ ] 列印功能正常
- [ ] 錯誤處理正常
- [ ] 鍵盤操作正常（Enter 確認編輯）
- [ ] 深色模式正常
- [ ] 響應式佈局正常

## 5. 已知問題

目前無已知問題。

## 6. 測試報告

測試完成後，請填寫測試報告，記錄：
- 測試日期
- 測試人員
- 測試結果（通過/失敗）
- 發現的問題
- 建議改進事項

---

**文件版本**: 1.0  
**最後更新**: 2025/11/15
